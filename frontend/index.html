<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–Ü—Å—Ç–æ—Ä—ñ—è –ë—Ä–∞–∑–∏–ª—ñ—ó —Ç–∞ –ö—É–±–∏ (1945 - –Ω–∞—à —á–∞—Å)</title>
    <link rel="stylesheet" href="styles/styles.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
</head>
<body>

    <header class="main-header">
        <div class="header-content">
            <a href="index.html" class="logo">
                <span class="logo-text">–ü–æ—Å—Ç–∫–æ–ª–æ–Ω—ñ–∞–ª—å–Ω–∞ –ï–ø–æ—Ö–∞</span>
            </a>
            <nav class="main-nav">
                <ul>
                    <li><a href="#intro">–í—Å—Ç—É–ø</a></li>
                    <li><a href="#brazil">–ë—Ä–∞–∑–∏–ª—ñ—è</a></li>
                    <li><a href="#cuba">–ö—É–±–∞</a></li>
                    <li><a href="#map">–ö–∞—Ä—Ç–∞</a></li>
                </ul>
            </nav>
        </div>
    </header>
    <main>
        <section id="intro">
            <h2>üåç –í—Å—Ç—É–ø: –õ–∞—Ç–∏–Ω—Å—å–∫–∞ –ê–º–µ—Ä–∏–∫–∞ –ø—ñ—Å–ª—è 1945</h2>
            <p>–ö–æ—Ä–æ—Ç–∫–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∑–∞–≥–∞–ª—å–Ω—ñ —Ç–µ–Ω–¥–µ–Ω—Ü—ñ—ó –≤ —Ä–µ–≥—ñ–æ–Ω—ñ: –•–æ–ª–æ–¥–Ω–∞ –≤—ñ–π–Ω–∞, –≤–ø–ª–∏–≤ –°–®–ê, —Ä–æ–∑–≤–∏—Ç–æ–∫ –µ–∫–æ–Ω–æ–º—ñ–∫–∏ —Ç–∞ –ø–æ–ª—ñ—Ç–∏—á–Ω—ñ –∑–º—ñ–Ω–∏. –¶–µ–π –ø–µ—Ä—ñ–æ–¥ –≤—ñ–¥–∑–Ω–∞—á–∏–≤—Å—è –±–æ—Ä–æ—Ç—å–±–æ—é –∑–∞ —Å—É–≤–µ—Ä–µ–Ω—ñ—Ç–µ—Ç —Ç–∞ —Å–æ—Ü—ñ–∞–ª—å–Ω—ñ —Ä–µ—Ñ–æ—Ä–º–∏ –Ω–∞ —Ç–ª—ñ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Ç–∏—Å—Ç–æ—è–Ω–Ω—è.</p>
        </section>

        <section id="brazil" class="country-section">
            <div class="content-wrapper">
                <img src="img/brasil.png" alt="–ü—Ä–∞–ø–æ—Ä –ë—Ä–∞–∑–∏–ª—ñ—ó" class="country-flag">
                <h2>–ë—Ä–∞–∑–∏–ª—ñ—è: –í—ñ–¥ –î–∏–∫—Ç–∞—Ç—É—Ä–∏ –¥–æ –î–µ–º–æ–∫—Ä–∞—Ç—ñ—ó</h2>
                
                <article id="event-vargas">
                    <h3><a href="brazil_vargas_era.html">–ï—Ä–∞ –ñ–µ—Ç—É–ª—ñ–æ –í–∞—Ä–≥–∞—Å–∞ —Ç–∞ —ó—ó –Ω–∞—Å–ª—ñ–¥–∫–∏</a></h3>
                    <p>–ü–µ—Ä—ñ–æ–¥ –ø—ñ—Å–ª—è–≤–æ—î–Ω–Ω–æ—ó –Ω–µ—Å—Ç–∞–±—ñ–ª—å–Ω–æ—Å—Ç—ñ, –ø–æ—Å–∏–ª–µ–Ω–Ω—è —ñ–Ω–¥—É—Å—Ç—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Ç–∞ –ø–æ–ø—É–ª—ñ–∑–º—É. <strong>–ß–∏—Ç–∞—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω—ñ—à–µ...</strong></p>
                    
                    <div class="feedback-widget" data-event-id="vargas-info">
                        <button class="like-btn" data-action="like">üëç</button>
                        <span id="vargas-info-likes" class="like-count">0</span>
                        <button class="like-btn" data-action="dislike">üëé</button>
                        <span id="vargas-info-dislikes" class="dislike-count">0</span>
                    </div>
                </article>

                <article id="event-military">
                    <h3><a href="brazil_military_regime.html">–í—ñ–π—Å—å–∫–æ–≤–∏–π —Ä–µ–∂–∏–º (1964-1985)</a></h3>
                    <p>–ü–µ—Ä–µ–≤–æ—Ä–æ—Ç, —Ä–æ–∫–∏ —Ä–µ–ø—Ä–µ—Å—ñ–π, –ø—Ä–∏—Å–∫–æ—Ä–µ–Ω–µ "–µ–∫–æ–Ω–æ–º—ñ—á–Ω–µ –¥–∏–≤–æ" —Ç–∞ –ø–æ—Å—Ç—É–ø–æ–≤–µ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –¥–æ –¥–µ–º–æ–∫—Ä–∞—Ç—ñ—ó. <strong>–ß–∏—Ç–∞—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω—ñ—à–µ...</strong></p>
                    
                    <div class="feedback-widget" data-event-id="military-info">
                        <button class="like-btn" data-action="like">üëç</button>
                        <span id="military-info-likes" class="like-count">0</span>
                        <button class="like-btn" data-action="dislike">üëé</button>
                        <span id="military-info-dislikes" class="dislike-count">0</span>
                    </div>
                </article>

            </div>
        </section>

        <section id="cuba" class="country-section">
            <div class="content-wrapper">
                <img src="img/cuba.png" alt="–ü—Ä–∞–ø–æ—Ä –ö—É–±–∏" class="country-flag">
                <h2>–ö—É–±–∞: –†–µ–≤–æ–ª—é—Ü—ñ—è —Ç–∞ –°–æ—Ü—ñ–∞–ª—ñ–∑–º</h2>
                
                <article id="event-pre-revolution">
                    <h3><a href="cuba_pre_revolution.html">–î–æ—Ä–µ–≤–æ–ª—é—Ü—ñ–π–Ω–∏–π –ø–µ—Ä—ñ–æ–¥</a></h3>
                    <p>–†–µ–∂–∏–º –ë–∞—Ç—ñ—Å—Ç–∏ —Ç–∞ —Å–∏–ª—å–Ω–∏–π –µ–∫–æ–Ω–æ–º—ñ—á–Ω–∏–π —ñ –ø–æ–ª—ñ—Ç–∏—á–Ω–∏–π –≤–ø–ª–∏–≤ –°–ø–æ–ª—É—á–µ–Ω–∏—Ö –®—Ç–∞—Ç—ñ–≤. <strong>–ß–∏—Ç–∞—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω—ñ—à–µ...</strong></p>
                    
                    <div class="feedback-widget" data-event-id="pre-revolution-info">
                        <button class="like-btn" data-action="like">üëç</button>
                        <span id="pre-revolution-info-likes" class="like-count">0</span>
                        <button class="like-btn" data-action="dislike">üëé</button>
                        <span id="pre-revolution-info-dislikes" class="dislike-count">0</span>
                    </div>
                </article>

                <article id="event-revolution">
                    <h3><a href="cuba_revolution.html">–ö—É–±–∏–Ω—Å—å–∫–∞ –†–µ–≤–æ–ª—é—Ü—ñ—è (1959)</a></h3>
                    <p>–ü–æ–≤–∞–ª–µ–Ω–Ω—è –ë–∞—Ç—ñ—Å—Ç–∏, –ø—Ä–∏—Ö—ñ–¥ –¥–æ –≤–ª–∞–¥–∏ –§—ñ–¥–µ–ª—è –ö–∞—Å—Ç—Ä–æ —Ç–∞ –ø–µ—Ä–µ—Ö—ñ–¥ –¥–æ —Å–æ—Ü—ñ–∞–ª—ñ—Å—Ç–∏—á–Ω–æ—ó –º–æ–¥–µ–ª—ñ. <strong>–ß–∏—Ç–∞—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω—ñ—à–µ...</strong></p>
                    
                    <div class="feedback-widget" data-event-id="revolution-info">
                        <button class="like-btn" data-action="like">üëç</button>
                        <span id="revolution-info-likes" class="like-count">0</span>
                        <button class="like-btn" data-action="dislike">üëé</button>
                        <span id="revolution-info-dislikes" class="dislike-count">0</span>
                    </div>
                </article>

                <article id="event-crisis">
                    <h3><a href="cuba_missile_crisis.html">–ö–∞—Ä–∏–±—Å—å–∫–∞ –∫—Ä–∏–∑–∞ —Ç–∞ –•–æ–ª–æ–¥–Ω–∞ –≤—ñ–π–Ω–∞</a></h3>
                    <p>–ù–∞–π–±—ñ–ª—å—à –Ω–µ–±–µ–∑–ø–µ—á–Ω–µ –ø—Ä–æ—Ç–∏—Å—Ç–æ—è–Ω–Ω—è –Ω–∞–¥–¥–µ—Ä–∂–∞–≤, —è–∫–µ –º–∞–ª–æ –º—ñ—Å—Ü–µ –Ω–∞ –ö—É–±—ñ. <strong>–ß–∏—Ç–∞—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω—ñ—à–µ...</strong></p>
                    
                    <div class="feedback-widget" data-event-id="crisis-info">
                        <button class="like-btn" data-action="like">üëç</button>
                        <span id="crisis-info-likes" class="like-count">0</span>
                        <button class="like-btn" data-action="dislike">üëé</button>
                        <span id="crisis-info-dislikes" class="dislike-count">0</span>
                    </div>
                </article>

            </div>
        </section>

        <section id="map">
            <h2>üó∫Ô∏è –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –ö–∞—Ä—Ç–∞ —Ç–∞ –ö–ª—é—á–æ–≤—ñ –ü–æ–¥—ñ—ó</h2>
            <p>–ö–ª—ñ–∫–Ω—É–≤—à–∏ –Ω–∞ –º—ñ—Ç–∫–∏, –≤–∏ –ø–æ–±–∞—á–∏—Ç–µ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –≤–∞–∂–ª–∏–≤—ñ –≥–µ–æ–≥—Ä–∞—Ñ—ñ—á–Ω—ñ —Ç–æ—á–∫–∏ —Ç–∞ —ñ—Å—Ç–æ—Ä–∏—á–Ω—ñ –ø–æ–¥—ñ—ó —Ä–µ–≥—ñ–æ–Ω—É.</p>
            
            <div id="interactive-map" style="height: 500px;">
            </div>

            <h3>–•—Ä–æ–Ω–æ–ª–æ–≥—ñ—è (1945 - –Ω–∞—à —á–∞—Å)</h3>
            <ul>
                <li>**1950:** –ü–æ—á–∞—Ç–æ–∫ –±—É–¥—ñ–≤–Ω–∏—Ü—Ç–≤–∞ –ë—Ä–∞–∑–∏–ª—ñ–∞.</li>
                <li>**1959:** –ü–µ—Ä–µ–º–æ–≥–∞ –ö—É–±–∏–Ω—Å—å–∫–æ—ó –†–µ–≤–æ–ª—é—Ü—ñ—ó.</li>
                <li>**1964:** –í—ñ–π—Å—å–∫–æ–≤–∏–π –ø–µ—Ä–µ–≤–æ—Ä–æ—Ç —É –ë—Ä–∞–∑–∏–ª—ñ—ó.</li>
                <li>**1985:** –ö—ñ–Ω–µ—Ü—å –≤—ñ–π—Å—å–∫–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º—É –≤ –ë—Ä–∞–∑–∏–ª—ñ—ó.</li>
            </ul>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 –Ü—Å—Ç–æ—Ä–∏—á–Ω–∏–π –ü—Ä–æ—î–∫—Ç. –í—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ.</p>
    </footer>

    <script>
        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–∞—Ä—Ç–∏ Leaflet (–∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –±–µ–∑ –∑–º—ñ–Ω)
        var map = L.map('interactive-map').setView([-10, -60], 3); 
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        // –ú–ê–†–ö–ï–†–ò –ö–ê–†–¢–ò (–∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –±–µ–∑ –∑–º—ñ–Ω)
        L.marker([-15.7797, -47.9297]).addTo(map).bindPopup('<strong>1. –ë—Ä–∞–∑–∏–ª—ñ–∞</strong><br>–ù–æ–≤–∞ —Å—Ç–æ–ª–∏—Ü—è, —Å–∏–º–≤–æ–ª –º–æ–¥–µ—Ä–Ω—ñ–∑–∞—Ü—ñ—ó.');
        L.marker([-22.9068, -43.1729]).addTo(map).bindPopup('<strong>2. –†—ñ–æ-–¥–µ-–ñ–∞–Ω–µ–π—Ä–æ</strong><br>–¶–µ–Ω—Ç—Ä –ø–æ–ª—ñ—Ç–∏—á–Ω–∏—Ö –ø–æ–¥—ñ–π.');
        L.marker([23.1136, -82.3666]).addTo(map).bindPopup('<strong>3. –ì–∞–≤–∞–Ω–∞</strong><br>–ï–ø—ñ—Ü–µ–Ω—Ç—Ä –ö—É–±–∏–Ω—Å—å–∫–æ—ó —Ä–µ–≤–æ–ª—é—Ü—ñ—ó.');
        L.marker([22.36, -81.16]).addTo(map).bindPopup('<strong>4. –ó–∞—Ç–æ–∫–∞ –°–≤–∏–Ω–µ–π</strong><br>–ú—ñ—Å—Ü–µ –Ω–µ–≤–¥–∞–ª–æ–≥–æ –≤—Ç–æ—Ä–≥–Ω–µ–Ω–Ω—è (1961).');
        L.marker([20.0083, -75.8267]).addTo(map).bindPopup('<strong>5. –°–∞–Ω—Ç—å—è–≥–æ-–¥–µ-–ö—É–±–∞</strong><br>–ú—ñ—Å—Ü–µ –ø–æ—á–∞—Ç–∫—É –ö—É–±–∏–Ω—Å—å–∫–æ—ó —Ä–µ–≤–æ–ª—é—Ü—ñ—ó.');
        L.marker([-23.5505, -46.6333]).addTo(map).bindPopup('<strong>6. –°–∞–Ω-–ü–∞—É–ª—É</strong><br>–ì–æ–ª–æ–≤–Ω–∏–π –ø—Ä–æ–º–∏—Å–ª–æ–≤–∏–π —Ü–µ–Ω—Ç—Ä.');

        // ====================================
        // –ù–û–í–ò–ô JAVASCRIPT: –û–î–ò–ù –ì–û–õ–û–° –ù–ê –ö–û–†–ò–°–¢–£–í–ê–ß–ê (–∑ LocalStorage)
        // ====================================
        
        // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ª—ñ—á–∏–ª—å–Ω–∏–∫—ñ–≤
        // ====================================
    // –í–ò–ü–†–ê–í–õ–ï–ù–ò–ô JAVASCRIPT: –û–î–ò–ù –ì–û–õ–û–°, –ú–û–ñ–õ–ò–í–Ü–°–¢–¨ –°–ö–ê–°–£–í–ê–ù–ù–Ø –¢–ê –ü–ï–†–ï–ú–ò–ö–ê–ù–ù–Ø
    // ====================================
    
    // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ª—ñ—á–∏–ª—å–Ω–∏–∫—ñ–≤
    function loadCounters() {
        const storedCounters = localStorage.getItem('eventCounters');
        return storedCounters ? JSON.parse(storedCounters) : {};
    }

    // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ª—ñ—á–∏–ª—å–Ω–∏–∫—ñ–≤
    function saveCounters(counters) {
        localStorage.setItem('eventCounters', JSON.stringify(counters));
    }

    // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≥–æ–ª–æ—Å—ñ–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
    function loadUserVotes() {
        const storedVotes = localStorage.getItem('userVotes');
        return storedVotes ? JSON.parse(storedVotes) : {};
    }

    // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≥–æ–ª–æ—Å—ñ–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
    function saveUserVotes(votes) {
        localStorage.setItem('userVotes', JSON.stringify(votes));
    }

    let counters = loadCounters();
    let userVotes = loadUserVotes();

    // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ª—ñ—á–∏–ª—å–Ω–∏–∫—ñ–≤
    function updateDisplay(eventId) {
        document.getElementById(eventId + '-likes').textContent = counters[eventId].likes;
        document.getElementById(eventId + '-dislikes').textContent = counters[eventId].dislikes;
    }

    // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞–Ω—É –∫–Ω–æ–ø–æ–∫ (–¥–æ–¥–∞–≤–∞–Ω–Ω—è/–≤–∏–¥–∞–ª–µ–Ω–Ω—è –∫–ª–∞—Å—ñ–≤ voted)
    function updateButtonState(eventId, widget) {
        const likeBtn = widget.querySelector('[data-action="like"]');
        const dislikeBtn = widget.querySelector('[data-action="dislike"]');
        
        // –°–∫–∏–¥–∞—î–º–æ –≤—Å—ñ –∫–ª–∞—Å–∏ —Ç–∞ —Å—Ç–∞–Ω–∏
        likeBtn.classList.remove('voted');
        dislikeBtn.classList.remove('voted');
        likeBtn.disabled = false;
        dislikeBtn.disabled = false;

        if (userVotes[eventId]) {
            const currentVote = userVotes[eventId];
            const votedButton = widget.querySelector(`[data-action="${currentVote}"]`);
            const oppositeButton = widget.querySelector(`[data-action="${currentVote === 'like' ? 'dislike' : 'like'}"]`);
            
            votedButton.classList.add('voted');
            oppositeButton.disabled = true; // –í–∏–º–∏–∫–∞—î–º–æ –ø—Ä–æ—Ç–∏–ª–µ–∂–Ω—É –∫–Ω–æ–ø–∫—É
        }
    }

    // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–∞ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤ –ø–æ–¥—ñ–π
    document.querySelectorAll('.feedback-widget').forEach(widget => {
        const eventId = widget.getAttribute('data-event-id');
        
        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ª—ñ—á–∏–ª—å–Ω–∏–∫—ñ–≤
        if (!counters[eventId]) {
            counters[eventId] = { likes: 0, dislikes: 0 };
            saveCounters(counters);
        }

        // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ —Å—Ç–∞–Ω—É
        updateDisplay(eventId);
        updateButtonState(eventId, widget);

        // –î–æ–¥–∞–≤–∞–Ω–Ω—è –æ–±—Ä–æ–±–Ω–∏–∫–∞ –ø–æ–¥—ñ–π
        widget.querySelectorAll('.like-btn').forEach(button => {
            button.addEventListener('click', function() {
                
                const action = this.getAttribute('data-action'); // 'like' –∞–±–æ 'dislike'
                const oppositeAction = action === 'like' ? 'dislike' : 'like';
                const currentVote = userVotes[eventId];

                // 1. –õ–û–ì–Ü–ö–ê –°–ö–ê–°–£–í–ê–ù–ù–Ø (–ù–∞—Ç–∏—Å–Ω—É—Ç–æ –≤–∂–µ –æ–±—Ä–∞–Ω—É –∫–Ω–æ–ø–∫—É)
                if (currentVote === action) {
                    counters[eventId][action + 's']--;
                    userVotes[eventId] = null; // –°–∫–∞—Å—É–≤–∞–Ω–Ω—è –≥–æ–ª–æ—Å—É
                } 
                // 2. –õ–û–ì–Ü–ö–ê –ü–ï–†–ï–ú–ò–ö–ê–ù–ù–Ø (–ù–∞—Ç–∏—Å–Ω—É—Ç–æ –ø—Ä–æ—Ç–∏–ª–µ–∂–Ω—É –∫–Ω–æ–ø–∫—É)
                else if (currentVote === oppositeAction) {
                    counters[eventId][oppositeAction + 's']--; // –°–∫–∞—Å–æ–≤—É—î–º–æ —Å—Ç–∞—Ä–∏–π
                    counters[eventId][action + 's']++;      // –î–æ–¥–∞—î–º–æ –Ω–æ–≤–∏–π
                    userVotes[eventId] = action; // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –Ω–æ–≤–∏–π –≤–∏–±—ñ—Ä
                } 
                // 3. –õ–û–ì–Ü–ö–ê –ù–û–í–û–ì–û –ì–û–õ–û–°–£ (–ü–µ—Ä—à–µ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è)
                else {
                    counters[eventId][action + 's']++;
                    userVotes[eventId] = action;
                }

                saveCounters(counters);
                saveUserVotes(userVotes);
                
                updateDisplay(eventId);
                updateButtonState(eventId, widget); // –û–Ω–æ–≤–ª—é—î–º–æ —Å—Ç–∞–Ω –∫–Ω–æ–ø–æ–∫
            });
        });
    });
    </script>
</body>
</html>